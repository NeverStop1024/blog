---
title: prettier
date: 2022-08-30 14:09:00
permalink: /pages/db9516/
categories:
  - 工具
tags:
  - 
author: 
  name: NeverStop1024
  link: https://github.com/NeverStop1024
---
### 介绍
eslint主要解决的是代码质量问题，另外一类代码风格问题其实并没有完完全全做完。所以出现了Prettier，Prettier只针对代码格式。
#### 配合eslint使用
`yarn add -D eslint-config-prettier eslint-plugin-prettier`
* eslint-config-prettier：它只做一件事就是关闭eslint中所有和prettier有冲突的rules。
* eslint-plugin-prettier：赋予eslint用prettier格式化代码的能力。
```javascript
module.exports = {
  env: {
    // ...
  },
  extends: [
    'plugin:vue/essential',
    'standard',
    'prettier'
  ],
  plugins: [
    'prettier'
  ],
  rules: {
    "prettier/prettier": "error"
  }
}
```
* 启用`eslint-plugin-prettier`插件后，`eslint-plugin-prettier`的rules也加入了eslint的rules中。  
* 但`eslint-plugin-prettier`插件有很多与eslint重复的rules，这时候如果有错误，错误来源就有可能是prettier。但我们希望的错误来源是eslint。  
* 所以就需要在rules中加入`"prettier/prettier": "error"`关闭`eslint-plugin-prettier`的规则，这样检测时报的错都是来源于eslint。

**其实可以简化一下，直接 extend 一下 plugin:prettier/recommended 即可。**  
prettier配好的config，包含了`"prettier/prettier": "error"`
```javascript
module.exports = {
  env: {
    // ...
  },
  extends: [
    'plugin:vue/essential',
    'standard',
    'plugin:prettier/recommended' // 主要在这里,recommended
  ],
  plugins: [
    'prettier'
  ],
  rules: {
    "prettier/prettier": "error"
  }
}
```
相当于
```javascript
{
  "extends": ["prettier"],
  "plugins": ["prettier"],
  "rules": {
    "prettier/prettier": "error",
    "arrow-body-style": "off",
    "prefer-arrow-callback": "off"
  }
}
```
### 规则
[官方](https://www.prettier.cn/docs/options.html)  
![20200714200503297_ouA6QQ](https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/20200714200503297_ouA6QQ.png)
![20200714200719391_aUjIqT](https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/20200714200719391_aUjIqT.png)

### 参考
1. [搞懂 ESLint 和 Prettier](https://zhuanlan.zhihu.com/p/80574300)