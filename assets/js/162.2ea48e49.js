(window.webpackJsonp=window.webpackJsonp||[]).push([[162],{487:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[t("a",{attrs:{href:"https://github.com/okonet/lint-staged",target:"_blank",rel:"noopener noreferrer"}},[s._v("lint-staged"),t("OutboundLink")],1),s._v(" æ˜¯ä¸€ä¸ªåªæ£€æµ‹gitæš‚å­˜åŒºçš„lintå·¥å…·ã€‚å¯ä»¥é¿å…æˆ‘ä»¬æ¯æ¬¡æ£€æŸ¥éƒ½æŠŠæ•´ä¸ªé¡¹ç›®çš„ä»£ç éƒ½æ£€æŸ¥ä¸€éï¼Œä»è€Œæé«˜æ•ˆç‡ã€‚å…·ä½“æ£€æŸ¥è§„åˆ™ï¼Œè¿˜è¦é…ç½®ã€‚")]),s._v(" "),t("h4",{attrs:{id:"å®‰è£…"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…"}},[s._v("#")]),s._v(" å®‰è£…")]),s._v(" "),t("p",[t("code",[s._v("yarn add -D lint-staged")])]),s._v(" "),t("h4",{attrs:{id:"æ·»åŠ lint-stagedé…ç½®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ·»åŠ lint-stagedé…ç½®"}},[s._v("#")]),s._v(" æ·»åŠ lint-stagedé…ç½®")]),s._v(" "),t("ul",[t("li",[s._v("æ–¹æ³•ä¸€ï¼šåœ¨"),t("code",[s._v("package.json")]),s._v("ä¸­æ·»åŠ  ï¼ˆæ¨èğŸ‘ï¼‰")]),s._v(" "),t("li",[s._v("æ–¹æ³•äºŒï¼šåˆ›å»º"),t("code",[s._v(".lintstagedrc")]),s._v(" æ–‡ä»¶")]),s._v(" "),t("li",[s._v("æ–¹æ³•ä¸‰ï¼šåˆ›å»º"),t("code",[s._v("lint-staged.config.js")]),s._v(" æ–‡ä»¶å¹¶è¿›è¡Œé…ç½®")])]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä»¥package.jsonä¸­æ·»åŠ ä¸ºä¾‹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"husky"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"hooks"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"pre-commit"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lint-staged"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lint-staged"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"*.vue"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eslint --fix"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"stylelint --fix"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git add"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"*.{js,jsx,ts,tsx}"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eslint --fix"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git add"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"*.{htm,html,css,sss,less,scss,sass}"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"stylelint --fix"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git add"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("p",[t("strong",[s._v("æ³¨æ„")])]),s._v(" "),t("ul",[t("li",[s._v("lint-staged v10ä¹‹å‰æ¯ä¸ªä»»åŠ¡æœ€åéƒ½è¦åŠ "),t("code",[s._v("git add")]),s._v("ï¼Œå› ä¸ºæ¯ä¸ªlintä»»åŠ¡éƒ½æœ‰å¯èƒ½ä¿®å¤ä»£ç ã€ç¾åŒ–æ ¼å¼ï¼Œè¿™äº›ä¿®æ”¹çš„æ–‡ä»¶è¦å†æ¬¡"),t("code",[s._v("git add .")]),s._v("æ‰èƒ½è¢«"),t("code",[s._v("git commit")]),s._v(",")]),s._v(" "),t("li",[s._v("æ‰€ä»¥å¿…é¡»åœ¨æ¯ä¸ªä»»åŠ¡ååŠ ä¸Š"),t("code",[s._v("git add")]),s._v("ï¼Œlint-staged è¯†åˆ«åˆ°git addåï¼Œè‡ªåŠ¨å°†è¯¥lintä»»åŠ¡ä¿®æ”¹çš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºã€‚å°±ä¸ä¼šå½±å“"),t("code",[s._v("git commit")]),s._v("æäº¤äº†ã€‚")]),s._v(" "),t("li",[s._v("ä½†åœ¨v10ä¹‹åï¼Œå®˜æ–¹å¯¹æ­¤åšäº†ä¼˜åŒ–ï¼Œä¸ç”¨å»å†™"),t("code",[s._v("git add")]),s._v("ï¼Œlint-stagedè‡ªåŠ¨å°†ä¿®æ”¹çš„æ–‡ä»¶åŠ å…¥æš‚å­˜åŒºã€‚"),t("br"),s._v(" "),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/img_pAcJoL.png",alt:"img_pAcJoL"}})])]),s._v(" "),t("h4",{attrs:{id:"ä½¿ç”¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨"}},[s._v("#")]),s._v(" ä½¿ç”¨")]),s._v(" "),t("p",[s._v("lint-stagedä¸€èˆ¬é…åˆhuskyçš„"),t("code",[s._v("pre-commit")]),s._v("ï¼ˆgit commitå‰çš„hooksï¼‰ä½¿ç”¨ã€‚"),t("br"),s._v("\næ¯æ¬¡"),t("code",[s._v("git commit")]),s._v("æ—¶ï¼Œpre-commitä¼šå…ˆæ‹¦æˆªï¼Œæ‰§è¡Œå®Œ"),t("code",[s._v("/.husky/pre-commit")]),s._v("ä¸­ä»£ç ï¼Œå¦‚æœæ²¡æœ‰æŠ¥é”™ï¼Œæ‰ä¼šæ­£å¸¸æäº¤ã€‚")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// /.husky/pre-commit")]),s._v("\n#"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sh\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$(dirname "')]),s._v("$0"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('")/_/husky.sh"')]),s._v("\n\nyarn lint"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("staged\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);