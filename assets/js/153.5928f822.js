(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{478:function(e,r,t){"use strict";t.r(r);var a=t(4),n=Object(a.a)({},(function(){var e=this,r=e._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h2",{attrs:{id:"企业小程序注册认证"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#企业小程序注册认证"}},[e._v("#")]),e._v(" 企业小程序注册认证")]),e._v(" "),r("ol",[r("li",[e._v("填写资质、小额打款、验证审核 -> 验证成功")]),e._v(" "),r("li",[e._v("微信认证（300元）-> 认证成功")])]),e._v(" "),r("p",[r("strong",[e._v("如果小程序、公众号都是相同资质")]),r("br"),e._v("\n相同资质，先认证公众号，公众号中，小程序管理->快速注册并认证小程序，这样公众号、小程序认证完，只花300")]),e._v(" "),r("h2",{attrs:{id:"小程序发送通知消息"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#小程序发送通知消息"}},[e._v("#")]),e._v(" 小程序发送通知消息")]),e._v(" "),r("p",[e._v("小程序向用户发通知，用"),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/subscribe-message.html#%E8%AE%A2%E9%98%85%E6%B6%88%E6%81%AF%E8%AF%AD%E9%9F%B3%E6%8F%90%E9%86%92",target:"_blank",rel:"noopener noreferrer"}},[e._v("小程序订阅消息"),r("OutboundLink")],1),e._v("实现。")]),e._v(" "),r("h3",{attrs:{id:"订阅消息分类"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#订阅消息分类"}},[e._v("#")]),e._v(" 订阅消息分类")]),e._v(" "),r("ul",[r("li",[r("strong",[e._v("一次订阅")]),e._v(" "),r("ul",[r("li",[e._v("个人小程序，订阅后，只能收到一条服务通知消息，用户需要手动触发。")])])]),e._v(" "),r("li",[r("strong",[e._v("长期订阅")]),e._v(" "),r("ul",[r("li",[e._v("需微信认证,订阅一次后，可多次给用户主动发通知")])])]),e._v(" "),r("li",[r("strong",[e._v("设备订阅")]),e._v(" "),r("ul",[r("li",[e._v("暂未使用")])])])]),e._v(" "),r("h4",{attrs:{id:"接入"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#接入"}},[e._v("#")]),e._v(" 接入")]),e._v(" "),r("ol",[r("li",[e._v("选择服务类目")]),e._v(" "),r("li",[e._v("获取模板 ID")]),e._v(" "),r("li",[e._v("用户主动触发，调用"),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/api/open-api/subscribe-message/wx.requestSubscribeMessage.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("wx.requestSubscribeMessage(Object object)"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("后端调用接口下发订阅消息")])]),e._v(" "),r("h4",{attrs:{id:"缺点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#缺点"}},[e._v("#")]),e._v(" 缺点")]),e._v(" "),r("p",[e._v("可以选长期模板的"),r("a",{attrs:{href:"https://developers.weixin.qq.com/community/develop/article/doc/000ca6042f0d489efdbe7ba3956013",target:"_blank",rel:"noopener noreferrer"}},[e._v("服务类目"),r("OutboundLink")],1),e._v("较少，且模板格式较为固定，很多应用场景不适合，并且需要微信认证。"),r("br"),e._v("\n个人小程序只能使用一次性订阅，局限性太大。")]),e._v(" "),r("h2",{attrs:{id:"使用公众号发通知"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用公众号发通知"}},[e._v("#")]),e._v(" 使用公众号发通知")]),e._v(" "),r("p",[e._v("首先公众号与小程序进行关联，这样公众号发送的模板消息下，可以放小程序链接。"),r("br"),e._v("\n使用unionid区分微信公众号与小程序是否同一用户。"),r("br"),e._v("\n用户使用小程序时候，引导用户去关注对应小程序，需要发通知时，使用公众号给用户发送模板消息。")]),e._v(" "),r("p",[r("strong",[e._v("什么是"),r("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/union-id.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("unionid"),r("OutboundLink")],1),e._v("？")]),r("br"),e._v("\nunionid是相对微信系的唯一标识，不同小程序、公众号，如果是同一微信用户，拿到的unionid都是一样的。")]),e._v(" "),r("p",[r("strong",[e._v("参考：")])]),e._v(" "),r("ol",[r("li",[r("a",{attrs:{href:"https://blog.csdn.net/weixin_44467567/article/details/112304488",target:"_blank",rel:"noopener noreferrer"}},[e._v("微信小程序通过公众号(服务号)推送通知或提醒"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);r.default=n.exports}}]);