(window.webpackJsonp=window.webpackJsonp||[]).push([[159],{483:function(s,t,a){"use strict";a.r(t);var r=a(4),n=Object(r.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("yarn的出现是解决了npm2，node_modules嵌套问题，多个包之间如果有共同依赖就要复制多份，非常浪费磁盘空间。"),t("br"),s._v(" "),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/EMWBw6_8sjmvK.png",alt:"EMWBw6_8sjmvK"}}),t("br"),s._v("\n于是出现了yarn，采用扁平化的方案，将所有依赖平铺成了一层，大大节省了磁盘空间。npm3也采用了同样的方式。"),t("br"),s._v(" "),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/YzwaL3_7IB6gp.png",alt:"YzwaL3_7IB6gp"}}),t("br"),s._v(" "),t("strong",[s._v("yarn与npm3还存在两个问题没有解决")])]),s._v(" "),t("ol",[t("li",[s._v("幽灵依赖，什么是幽灵依赖呢。\n"),t("ul",[t("li",[s._v("比如我们项目只装了antd却可以使用moment，就是因为antd又依赖了moment，如果我们哪天不用antd，那我们项目中使用的moment就都会报错。这就是幽灵依赖。")])])]),s._v(" "),t("li",[s._v("依赖需要重复安装\n"),t("ul",[t("li",[s._v("我们如果有100个项目，电脑上就会存在100个node_modules，如果都依赖了antd，就要装100次，也很浪费磁盘空间。那可不可以100个项目中相同的依赖只装一次呢？\npnpm的出现同时解决了上面两个问题。\npnpm采用link软链接的方式，解决了上面两个问题。")])])])]),s._v(" "),t("h2",{attrs:{id:"安装依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装依赖"}},[s._v("#")]),s._v(" 安装依赖")]),s._v(" "),t("ul",[t("li",[s._v("全局安装 "),t("code",[s._v("yarn global add [package]")])]),s._v(" "),t("li",[s._v("安装到devDependencies "),t("code",[s._v("yarn add -D [package]")])]),s._v(" "),t("li",[s._v("指定版本 "),t("code",[s._v("yarn add [package]@[version]")])]),s._v(" "),t("li",[s._v("安装多个依赖 "),t("code",[s._v("yarn add [package] [package] [package]")])])]),s._v(" "),t("h2",{attrs:{id:"升级依赖包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#升级依赖包"}},[s._v("#")]),s._v(" 升级依赖包")]),s._v(" "),t("ul",[t("li",[s._v("升级全局依赖 "),t("code",[s._v("yarn global upgrade [package]")])]),s._v(" "),t("li",[s._v("升级到最新版 "),t("code",[s._v("yarn upgrade [package]")])]),s._v(" "),t("li",[s._v("升级到指定版本 "),t("code",[s._v("yarn upgrade [package]@[version]")])])]),s._v(" "),t("h2",{attrs:{id:"移除依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#移除依赖"}},[s._v("#")]),s._v(" 移除依赖")]),s._v(" "),t("ul",[t("li",[s._v("局部 "),t("code",[s._v("yarn remove [package]")])]),s._v(" "),t("li",[s._v("全局 "),t("code",[s._v("yarn global remove [package]")])])]),s._v(" "),t("h2",{attrs:{id:"查看全局安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看全局安装"}},[s._v("#")]),s._v(" 查看全局安装")]),s._v(" "),t("ul",[t("li",[s._v("查看全局安装位置 "),t("code",[s._v("yarn global dir")])]),s._v(" "),t("li",[s._v("查看全局安装的依赖 "),t("code",[s._v("yarn global list")])])]),s._v(" "),t("h2",{attrs:{id:"缓存"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#缓存"}},[s._v("#")]),s._v(" 缓存")]),s._v(" "),t("ul",[t("li",[s._v("获取缓存列表 "),t("code",[s._v("yarn cache list")])]),s._v(" "),t("li",[s._v("获取全局缓存位置 "),t("code",[s._v("yarn cache dir")])]),s._v(" "),t("li",[s._v("清除缓存 "),t("code",[s._v("yarn cache clean")])])]),s._v(" "),t("h2",{attrs:{id:"配置信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置信息"}},[s._v("#")]),s._v(" 配置信息")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("yarn config list")]),s._v(" 获取全部配置")])]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'version-tag-prefix'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'v'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'version-git-tag'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'version-commit-hooks'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'version-git-sign'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'version-git-message'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'v%s'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'init-version'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1.0.0'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'init-license'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'MIT'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'save-prefix'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'^'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'bin-links'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'ignore-scripts'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'ignore-optional'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("registry")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://registry.npm.taobao.org/'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'strict-ssl'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'user-agent'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'yarn/1.22.19 npm/? node/v16.14.0 darwin x64'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("lastUpdateCheck")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1661781465443")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("yarn config set key value -g")]),s._v(" 配置某项属性（-g 全局生效，不加-g只在当前项目生效）"),t("br"),s._v("\n示例："),t("code",[s._v("yarn config set registry https://registry.npm.taobao.org -g")]),s._v(" 设置源")]),s._v(" "),t("li",[t("code",[s._v("yarn config get key")]),s._v(" 获取某项配置"),t("br"),s._v("\n示例："),t("code",[s._v("yarn config get registry")]),s._v(" 获取源")])])])}),[],!1,null,null,null);t.default=n.exports}}]);