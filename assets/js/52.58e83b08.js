(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{377:function(t,a,s){"use strict";s.r(a);var e=s(4),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("blockquote",[a("p",[t._v("三维场景中，可以\n放置很多三维模型，一个三维模型Mesh是由一个几何体加上材质所构成的，几何体决定了模型的几何形状，材质决定了模型的外观属性，一个简单的理解就是一个西瓜的瓤决定了它的大小和圆扁，而西瓜皮决定了它外表啥样。"),a("br"),t._v(" "),a("strong",[t._v("材质分为点、线、面（网格）、特殊、自定义材质")])])]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("三维模型创建:")]),a("br"),t._v("\n1.创建一个几何体"),a("br"),t._v("\n2.几何体指定相应材质"),a("br"),t._v("\n3.Mesh()方法，对三维模型进行构建"),a("br"),t._v("\n4.将三维模型加入到场景")])]),t._v(" "),a("h2",{attrs:{id:"material"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#material"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=Material#api/zh/materials/Material",target:"_blank",rel:"noopener noreferrer"}},[t._v("Material"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("材质基类")]),t._v(" "),a("h3",{attrs:{id:"属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#属性"}},[t._v("#")]),t._v(" 属性")]),t._v(" "),a("h4",{attrs:{id:"transparent"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#transparent"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=Material#api/zh/materials/Material.transparent",target:"_blank",rel:"noopener noreferrer"}},[t._v("transparent"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("定义材质是否透明")])]),t._v(" "),a("h4",{attrs:{id:"opacity"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#opacity"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=Material#api/zh/materials/Material.opacity",target:"_blank",rel:"noopener noreferrer"}},[t._v("opacity"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("材质透明度")])]),t._v(" "),a("h4",{attrs:{id:"side"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#side"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=Material#api/zh/materials/Material.side",target:"_blank",rel:"noopener noreferrer"}},[t._v("side"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("定义将要渲染哪一面 - 正面，背面或两者")])]),t._v(" "),a("h4",{attrs:{id:"vertexcolors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vertexcolors"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=PointsMaterial#api/zh/materials/Material.vertexColors",target:"_blank",rel:"noopener noreferrer"}},[t._v("vertexColors"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("是否启用顶点着色，如果修改顶点颜色的话，必须开启这个属性")]),t._v(" "),a("h3",{attrs:{id:"方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法"}},[t._v("#")]),t._v(" 方法")]),t._v(" "),a("h4",{attrs:{id:"onbeforecompile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onbeforecompile"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=Mate#api/zh/materials/Material.onBeforeCompile",target:"_blank",rel:"noopener noreferrer"}},[t._v("onBeforeCompile"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("在编译shader程序之前立即执行的可选回调。此函数使用shader源码作为参数。用于修改内置材质。")]),t._v(" "),a("h2",{attrs:{id:"meshbasicmaterial"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#meshbasicmaterial"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html#api/zh/materials/MeshBasicMaterial",target:"_blank",rel:"noopener noreferrer"}},[t._v("MeshBasicMaterial"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("基础网格材质（可以看作皮肤）"),a("br"),t._v(" "),a("strong",[t._v("特点：")]),t._v(" 不反光，永远显示本身颜色")])]),t._v(" "),a("h3",{attrs:{id:"属性-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#属性-2"}},[t._v("#")]),t._v(" 属性")]),t._v(" "),a("h4",{attrs:{id:"wireframe"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wireframe"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html#api/zh/materials/MeshBasicMaterial.wireframe",target:"_blank",rel:"noopener noreferrer"}},[t._v("wireframe"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("将几何体渲染为线框")]),t._v(" "),a("h4",{attrs:{id:"color"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#color"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html#api/zh/materials/MeshBasicMaterial.color",target:"_blank",rel:"noopener noreferrer"}},[t._v("color"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("材质的颜色")])]),t._v(" "),a("h4",{attrs:{id:"map"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#map"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html#api/zh/materials/MeshBasicMaterial.map",target:"_blank",rel:"noopener noreferrer"}},[t._v("map"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("颜色贴图，注意值类型是"),a("a",{attrs:{href:"https://threejs.org/docs/index.html#api/zh/textures/Texture",target:"_blank",rel:"noopener noreferrer"}},[t._v("Texture"),a("OutboundLink")],1)])]),t._v(" "),a("h4",{attrs:{id:"alphamap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#alphamap"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=Material#api/zh/materials/MeshBasicMaterial.alphaMap",target:"_blank",rel:"noopener noreferrer"}},[t._v("alphaMap"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("alpha贴图是一张灰度纹理，用于控制整个表面的不透明度。（黑色：完全透明；白色：完全不透明）。 默认值为null。")])]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入纹理")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" textureLoader "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TextureLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" doorColorTexture "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" textureLoader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./textures/door/color.jpg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(doorColorTexture);")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加物体")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cubeGeometry "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("BoxBufferGeometry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 材质")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" basicMaterial "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MeshBasicMaterial")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("color")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#ffff00"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" doorColorTexture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])]),a("h4",{attrs:{id:"aomap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aomap"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=Material#api/zh/materials/MeshBasicMaterial.aoMap",target:"_blank",rel:"noopener noreferrer"}},[t._v("aoMap"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("环境遮挡，把环境的光挡住。"),a("strong",[t._v("注意：aoMap需要第二组UV")])]),t._v(" "),a("h4",{attrs:{id:"aomapintensity"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aomapintensity"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=Material#api/zh/materials/MeshBasicMaterial.aoMapIntensity",target:"_blank",rel:"noopener noreferrer"}},[t._v("aoMapIntensity"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("环境遮挡强度")])]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入纹理")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" textureLoader "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TextureLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" doorColorTexture "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" textureLoader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./textures/door/color.jpg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" doorAplhaTexture "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" textureLoader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./textures/door/alpha.jpg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" doorAoTexture "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" textureLoader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./textures/door/ambientOcclusion.jpg"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加物体")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cubeGeometry "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("BoxBufferGeometry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 材质")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" basicMaterial "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MeshBasicMaterial")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("color")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#ffff00"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" doorColorTexture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("alphaMap")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" doorAplhaTexture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("transparent")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("aoMap")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" doorAoTexture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("aoMapIntensity")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   opacity: 0.3,")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   side: THREE.DoubleSide,")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbasicMaterial"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("side "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THREE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DoubleSide"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cube "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Mesh")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cubeGeometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" basicMaterial"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nscene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cube"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 给cube添加第二组uv")]),t._v("\ncubeGeometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uv2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("BufferAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cubeGeometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attributes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uv"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br")])]),a("p",[t._v("比如我们用这张图来进行环境遮挡\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/ocRU9a_ivrpUk.png",alt:"ocRU9a_ivrpUk"}}),a("br"),t._v("\n实现的效果，可以看到黑色线条遮挡部分，明显变黑了，这个门也更真实了"),a("br"),t._v(" "),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/f1i1NL_GcwGMO.png",alt:"f1i1NL_GcwGMO"}})]),t._v(" "),a("h2",{attrs:{id:"meshstandardmaterial"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#meshstandardmaterial"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html#api/zh/materials/MeshStandardMaterial",target:"_blank",rel:"noopener noreferrer"}},[t._v("MeshStandardMaterial"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("标准网格材质，基于PBR标准实现的材质,"),a("strong",[t._v("必须有灯光")])]),t._v(" "),a("h3",{attrs:{id:"属性-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#属性-3"}},[t._v("#")]),t._v(" 属性")]),t._v(" "),a("h4",{attrs:{id:"displacementmap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#displacementmap"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html#api/zh/materials/MeshStandardMaterial.displacementMap",target:"_blank",rel:"noopener noreferrer"}},[t._v("displacementMap"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("置换贴图， 会影响网格顶点的位置，通过识别贴图的颜色，让顶点进行突出，所以顶点越多，突出效果会越细致。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/woGZTG_grSqwi.png",alt:"woGZTG_grSqwi"}})]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入纹理")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" textureLoader "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TextureLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" doorColorTexture "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" textureLoader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./textures/door/color.jpg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" doorAplhaTexture "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" textureLoader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./textures/door/alpha.jpg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" doorAoTexture "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" textureLoader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./textures/door/ambientOcclusion.jpg"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//导入置换贴图")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" doorHeightTexture "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" textureLoader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./textures/door/height.jpg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加物体，注意后面三个参数，因为置换贴图实际是在位移顶点，增加顶点数量很重要，顶点越多越细腻，不加的话，顶点少也就没啥突出效果，")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cubeGeometry "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("BoxBufferGeometry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 材质")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" material "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MeshStandardMaterial")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("color")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#ffff00"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" doorColorTexture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("alphaMap")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" doorAplhaTexture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("transparent")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("aoMap")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" doorAoTexture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("aoMapIntensity")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("displacementMap")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" doorHeightTexture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("displacementScale")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmaterial"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("side "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THREE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DoubleSide"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cube "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Mesh")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cubeGeometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" material"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nscene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cube"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 给cube添加第二组uv")]),t._v("\ncubeGeometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uv2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("BufferAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cubeGeometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attributes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uv"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br")])]),a("p",[t._v("最后实现的这个门，根据置换贴图中，白色程度不同，突出程度也不同，整体看起来更加真实了。\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/YNQ57v_aFoBMK.png",alt:"YNQ57v_aFoBMK"}})]),t._v(" "),a("h4",{attrs:{id:"displacementscale"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#displacementscale"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html#api/zh/materials/MeshStandardMaterial.displacementScale",target:"_blank",rel:"noopener noreferrer"}},[t._v("displacementScale"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("配合置换贴图，规定顶点最大位移程度，默认突出程度是1（可以看作长度）。一般都要修改这个突出程度")]),t._v(" "),a("h4",{attrs:{id:"roughness"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#roughness"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html#api/zh/materials/MeshStandardMaterial.roughness",target:"_blank",rel:"noopener noreferrer"}},[t._v("roughness"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("修改材质粗糙程度，也就决定了漫反射的程度。"),a("strong",[t._v("如果还提供roughnessMap，则两个值相乘。")])]),t._v(" "),a("h4",{attrs:{id:"roughnessmap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#roughnessmap"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html#api/zh/materials/MeshStandardMaterial.roughnessMap",target:"_blank",rel:"noopener noreferrer"}},[t._v("roughnessMap"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("贴图方式，通过识别贴图的 去改变材质粗糙程度，贴图上越灰色的地方越粗糙，这样就可以随意设置哪部分粗糙，哪部分光滑了。\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/bMquo5_gSxkuQ.png",alt:"bMquo5_gSxkuQ"}})]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入粗糙度贴图")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" roughnessTexture "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" textureLoader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./textures/door/roughness.jpg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 材质")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" material "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MeshStandardMaterial")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("roughness")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("roughnessMap")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" roughnessTexture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[t._v("可以看到金属部分已经比较粗糙了\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/DgH8cx_PT3Io6.png",alt:"DgH8cx_PT3Io6"}})]),t._v(" "),a("h4",{attrs:{id:"metalness"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#metalness"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html#api/zh/materials/MeshStandardMaterial.metalness",target:"_blank",rel:"noopener noreferrer"}},[t._v("metalness"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("材质与金属的相似度，"),a("strong",[t._v("如果还提供了metalnessMap，则两个值相乘。")])]),t._v(" "),a("h4",{attrs:{id:"metalnessmap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#metalnessmap"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html#api/zh/materials/MeshStandardMaterial.metalnessMap",target:"_blank",rel:"noopener noreferrer"}},[t._v("metalnessMap"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("金属度贴图，越白金属度越强\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/fQq0Ph_xwQhOW.png",alt:"fQq0Ph_xwQhOW"}})]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入金属贴图")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" metalnessTexture "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" textureLoader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./textures/door/metalness.jpg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 材质")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" material "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MeshStandardMaterial")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("metalness")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("metalnessMap")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" metalnessTexture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[t._v("可以看到金属部分，与金属更相似了\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/zajzlS_GEjqrN.png",alt:"zajzlS_GEjqrN"}})]),t._v(" "),a("h4",{attrs:{id:"normalmap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#normalmap"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html#api/zh/materials/MeshStandardMaterial.normalMap",target:"_blank",rel:"noopener noreferrer"}},[t._v("normalMap"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("法线贴图，上面各种贴图完成以后，有一点不足之处，都是一个镜面，没有凹凸不平的感觉，这时候就要用到法线贴图，改变反射方向，让反射更真实。"),a("br"),t._v("\n贴图中每种颜色都代表不同的反射方向。\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/sHVhCs_EAynLo.png",alt:"sHVhCs_EAynLo"}})]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入法线贴图")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" normalTexture "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" textureLoader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./textures/door/normal.jpg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 材质")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" material "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MeshStandardMaterial")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("normalMap")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" normalTexture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("p",[t._v("此时就有这种凹凸不平的感觉了\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/xcCc3L_87CJWJ.png",alt:"xcCc3L_87CJWJ"}})]),t._v(" "),a("h2",{attrs:{id:"pointsmaterial"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pointsmaterial"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=PointsMaterial#api/zh/materials/PointsMaterial",target:"_blank",rel:"noopener noreferrer"}},[t._v("PointsMaterial"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("点材质")]),t._v(" "),a("h3",{attrs:{id:"属性-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#属性-4"}},[t._v("#")]),t._v(" 属性")]),t._v(" "),a("p",[t._v("可以设置点样式、点大小、点颜色、透明度等")]),t._v(" "),a("h4",{attrs:{id:"sizeattenuation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sizeattenuation"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html#api/zh/materials/PointsMaterial.sizeAttenuation",target:"_blank",rel:"noopener noreferrer"}},[t._v("sizeAttenuation"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("点的大小是否因相机深度而衰减，相机越远看到的越小，相机越近看到的越大，如果为false，相机近远，看到的大小都是一样的。（仅限透视相机）")]),t._v(" "),a("h4",{attrs:{id:"map-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#map-2"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=PointsMaterial#api/zh/materials/PointsMaterial.map",target:"_blank",rel:"noopener noreferrer"}},[t._v("map"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("给点设置贴图")]),t._v(" "),a("h4",{attrs:{id:"alphamap-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#alphamap-2"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=PointsMaterial#api/zh/materials/PointsMaterial.alphaMap",target:"_blank",rel:"noopener noreferrer"}},[t._v("alphaMap"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("开启透明度，像下面这张图，如果导入贴图不开透明度的话，四周黑色部分会对后面产生遮挡。\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/DIzf2M_u5QugX.png",alt:"DIzf2M_u5QugX"}})]),t._v(" "),a("h4",{attrs:{id:"transparent-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#transparent-2"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=PointsMaterial#api/zh/materials/Material.transparent",target:"_blank",rel:"noopener noreferrer"}},[t._v("transparent"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("定义材质是否透明，想开启alphaMap，必须先开这个属性，材质透明是前提。")]),t._v(" "),a("h4",{attrs:{id:"depthwrite"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#depthwrite"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=PointsMaterial#api/zh/materials/Material.depthWrite",target:"_blank",rel:"noopener noreferrer"}},[t._v("depthWrite"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("深度写入，如果开了深度写入，前面的会遮挡后面的，不管透不透明。\n可以看到，导入这样一张纹理贴图，也设置了透明，黑色部分虽然透明了，但还是遮挡住了后面的渲染。\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/NJ0WnL_SE2z7x.png",alt:"NJ0WnL_SE2z7x"}}),t._v(" "),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/4zt7im_m8Uois.png",alt:"4zt7im_m8Uois"}}),t._v("\n禁止掉深度写入后，可以看到，后面不再被遮挡，都渲染出来了。但现在重合之后，渲染看起来很别扭，这时候我们就要修改"),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=PointsMaterial#api/zh/materials/Material.blending",target:"_blank",rel:"noopener noreferrer"}},[t._v("blending"),a("OutboundLink")],1),t._v("混合模式了\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/oHLec5_NdkOYi.png",alt:"oHLec5_NdkOYi"}})]),t._v(" "),a("h4",{attrs:{id:"blending"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#blending"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://threejs.org/docs/index.html?q=PointsMaterial#api/zh/materials/Material.blending",target:"_blank",rel:"noopener noreferrer"}},[t._v("blending"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("比如上面开启深度写入后，两个重合的点怎么去混合。我们将混合模式改为"),a("code",[t._v("THREE.AdditiveBlending")]),t._v("叠加效果，这样就完美了\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/NeverStop1024/images-store@main/blog/7bzmRg_UGw7CE.png",alt:"7bzmRg_UGw7CE"}})])])}),[],!1,null,null,null);a.default=r.exports}}]);